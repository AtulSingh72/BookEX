<% include partials/header %>
<div class="card-deck" style="margin-top: 75px;">
	<% records.forEach(function(row){ %>
	<div class="col-lg-3 col-md-6" style="margin-bottom: 15px;">
  <div class="card">
	  <div class="card-img-top img-fluid" style="width:100%; height:200px; overflow: hidden; display:flex; padding: 7px;">
		<img class="card-img-top img-fluid" src="<%= row.image %>" alt="Card image cap" style="object-fit: contain;">
	  </div>
	<div class="card-body">
		<% if(row.title.length > 25) { %>
	  		<h4 class="card-title" style="text-align: center"><%= row.title.substring(0, 25)%> ....</h4>
		<% } else { %>
			<h4 class="card-title" style="text-align: center"><%= row.title%></h4>
		<% } %>
		<% if(row.description.length > 92) { %>
			<p class="card-text"><%= row.description.substring(0, 92)%> ....</p>
		<% } else { %>
			<p class="card-text"><%= row.description%></p>
		<% } %>
		<form action="/books/<%= row._id %>" method="GET">
			<button type="submit" class="btn btn-sm btn-primary" style="float:left;"><i class="fa fa-info"></i> More</button>
		</form>
		<form action="/books/<%= row._id %>/edit" method="GET">
			<button type="submit" class="btn btn-sm btn-warning" style="float:right"><i class="fa fa-edit"></i> Edit</button>
		</form>
		<form action="/books/<%= row._id %>?_method=DELETE" method="POST">
			<button type="submit" class="btn btn-sm btn-danger" style="float:right; margin-right:10px;"><i class="fa fa-trash"></i> Delete</button>
		</form>
	</div>
	<div class="card-footer">
		<small class="text-muted"><bold>Author: <%= row.author %></bold></small>
		<hr>
		  <small class="text-muted font-weight-bold"><bold>Price: <%= row.price %></bold></small>
	</div>
		</div>
  </div>
	<% }) %>
</div>

<% include partials/footer %>